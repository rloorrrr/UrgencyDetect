# âš¡ UrgencySense - ê¹€ì›

> ë³¸ í”„ë¡œì íŠ¸ëŠ” **ë©‹ìŸì´ì‚¬ìì²˜ëŸ¼ AI ìì—°ì–´ì²˜ë¦¬(NLP) ë‹¨ê¸° ì‹¬í™” êµìœ¡ ê³¼ì •**ì—ì„œ ì§„í–‰í•œ  
> **ê¸´ê¸‰ë„ íŒë‹¨ ëª¨ë¸ êµ¬ì¶• í”„ë¡œì íŠ¸**ì…ë‹ˆë‹¤.  
> ê¸´ê¸‰ ì „í™”ë¥¼ ë¶„ì„í•˜ì—¬ **í†µí™”ì˜ ê¸´ê¸‰ë„(ìƒ/ì¤‘/í•˜)** ì™€ **ê°ì • ìƒíƒœ(ë¶ˆì•ˆ, ë‹¹í™©, ì¤‘ë¦½ ë“±)** ë¥¼  
> ë™ì‹œì— ë¶„ë¥˜í•˜ëŠ” ë©€í‹°íƒœìŠ¤í¬ í•™ìŠµ ì‹œìŠ¤í…œì„ ê°œë°œí–ˆìŠµë‹ˆë‹¤.

---

## ğŸ§© ì „ì²´ íŒŒì´í”„ë¼ì¸ ê°œìš”

| ë‹¨ê³„ | ì…ë ¥ | ì£¼ìš” ê¸°ëŠ¥ | ì¶œë ¥ |
|------|------|------------|------|
| **EDA** | ZIP(JSON) ë¼ë²¨ë§ ë°ì´í„° | í†µí™” ë©”íƒ€ ì •ë³´ ì¶”ì¶œ + ëŒ€í™” êµ¬ì¡°ì  íŠ¹ì§• ìƒì„± | `calls_df`, `utts_df` |
| **ë°ì´í„° ì „ì²˜ë¦¬** | EDA ê²°ê³¼ Feather íŒŒì¼ | í…ìŠ¤íŠ¸ ë³‘í•© + íƒ€ê¹ƒ ì¸ì½”ë”© + Stratified Split | `MTL_ready` CSV/Parquet |
| **ëª¨ë¸ í•™ìŠµ** | MTL_ready ë°ì´í„°ì…‹ | KcELECTRA ë©€í‹°íƒœìŠ¤í¬ í•™ìŠµ | `best_mtl.pt` |

---

## ğŸ” EDA í•µì‹¬ íŠ¹ì§• 2ê°€ì§€

### 1ï¸âƒ£ ëŒ€í™” í„´ ì „í™˜ íšŸìˆ˜ (Conversation Turn Count)

ì‹ ê³ ìì™€ ìˆ˜ë³´ì ì‚¬ì´ì˜ **ëŒ€í™”ê°€ ëª‡ ë²ˆ ì˜¤ê°”ëŠ”ì§€**ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.  
ì´ê²ƒì„ **í•‘í ë ë¦¬ ğŸ“** ì— ë¹„ìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **ê¸´ê¸‰í•œ í†µí™”** â†’ â€œë¶ˆì´ì•¼!â€ â†’ â€œì–´ë””ì„¸ìš”?â€ â†’ â€œì•„íŒŒíŠ¸ìš”!â€  
  â†’ ë¹ ë¥¸ í„´ êµí™˜(ì§§ì€ ì‘ë‹µ, ë¹ ë¥¸ ë¦¬ë“¬)
- **ë¹„ê¸´ê¸‰ í†µí™”** â†’ ì¥í™©í•œ ì„¤ëª…ê³¼ ëŠë¦° ë‹µë³€ â†’ ëŠë¦° í„´ êµí™˜  

ğŸ“ˆ **ê²°ê³¼:** ê¸´ê¸‰ë„ê°€ ë†’ì„ìˆ˜ë¡ í„´ ì „í™˜ íšŸìˆ˜ê°€ ì¦ê°€í•˜ëŠ” ê²½í–¥ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.  
ì¦‰, **í†µí™”ê°€ ì–¼ë§ˆë‚˜ ì—­ë™ì ì¸ì§€**ë¥¼ íŒë‹¨í•˜ëŠ” ìœ ìš©í•œ ì§€í‘œì…ë‹ˆë‹¤.

---

### 2ï¸âƒ£ ìˆ˜ë³´ì ì´ˆê¸° ì‘ë‹µ ì‹œê°„ (Agent's Initial Response Time)

ì‹ ê³ ìê°€ ë§ì„ ë§ˆì¹œ í›„, ìˆ˜ë³´ìê°€ ì²« ì˜ë¯¸ ìˆëŠ” ë°˜ì‘(ì§ˆë¬¸, ì§€ì‹œ ë“±)ì„ í•˜ê¸°ê¹Œì§€ì˜ **â€˜ì¹¨ë¬µ ì‹œê°„â€™**ì„ ì¸¡ì •í•©ë‹ˆë‹¤.  
ì´ê²ƒì€ ë§ˆì¹˜ **ì‘ê¸‰ì‹¤ ì˜ì‚¬ì˜ ë°˜ì‘ ì†ë„ ğŸ©º** ì™€ ê°™ìŠµë‹ˆë‹¤.

- **ê¸´ê¸‰í•œ ìƒí™©:** ì¦‰ê°ì ì¸ ì‘ë‹µ (â€œìˆ¨ì„ ëª» ì‰¬ì–´ìš”!â€ â†’ â€œì‚°ì†Œ ì¤€ë¹„í•´!â€)  
- **ëœ ê¸´ê¸‰í•œ ìƒí™©:** ìƒê° í›„ ëŒ€ì‘ (â€œí—ˆë¦¬ë¥¼ ì‚ë—í–ˆì–´ìš”.â€ â†’ â€œì–¸ì œë¶€í„°ì¸ê°€ìš”?â€)

ğŸ“‰ **ê²°ê³¼:** ê¸´ê¸‰ë„ê°€ ë†’ì€ í†µí™”ì¼ìˆ˜ë¡ ìˆ˜ë³´ìì˜ ë°˜ì‘ ì‹œê°„ì´ ì§§ì•˜ìŠµë‹ˆë‹¤.  
ì¦‰, **ìƒí™© ì¸ì‹ ì†ë„**ê°€ ê¸´ê¸‰ë„ íŒë‹¨ì˜ ì¤‘ìš”í•œ ì‹ í˜¸ë¡œ ì‘ìš©í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ§® ë°ì´í„° ì „ì²˜ë¦¬

- **ë°œí™” ë³‘í•©:** ë™ì¼ `recordId`ì˜ ë°œí™”ë¥¼ ì‹œê°„ìˆœìœ¼ë¡œ ì •ë ¬ â†’ `full_text` ìƒì„±  
- **íƒ€ê¹ƒ ì¸ì½”ë”©:**  
  - ê¸´ê¸‰ë„: `{'í•˜':0, 'ì¤‘':1, 'ìƒ':2}`  
  - ê°ì •: `{'ê¸°íƒ€ë¶€ì •':0, 'ë‹¹í™©/ë‚œì²˜':1, 'ë¶ˆì•ˆ/ê±±ì •':2, 'ì¤‘ë¦½':3}`
- **ê²°ì¸¡ê°’ ì²˜ë¦¬:** `turn_count`, `initial_response_ms` ì¤‘ì•™ê°’ìœ¼ë¡œ ë³´ì •  
- **Stratified Split:** (urgency, sentiment) ì¡°í•©ìœ¼ë¡œ 8:2 ë¶„í•   
- **ì €ì¥ í˜•ì‹:** CSV + Parquet (`/Processed_Data/MTL_ready/`)

---

## ğŸ¤– í•™ìŠµ ë°©ì‹ (KcELECTRA MTL)

ë©€í‹°íƒœìŠ¤í¬ í•™ìŠµìœ¼ë¡œ **ê¸´ê¸‰ë„(3-class)** ì™€ **ê°ì •(4-class)** ë¥¼ ë™ì‹œì— ì˜ˆì¸¡í•©ë‹ˆë‹¤.

```mermaid
flowchart TD
    A["ì…ë ¥ í…ìŠ¤íŠ¸ full_text"] --> B["KoELECTRA ì¸ì½”ë”"];
    B --> C1["CLS ì„ë² ë”© ì¶”ì¶œ"];
    C1 --> D1["Dropout(0.3)"];
    D1 --> E1["Head_U: Urgency (3)"];
    D1 --> E2["Head_S: Sentiment (4)"];
```

- **ëª¨ë¸:** `beomi/KcELECTRA-base-v2022`  
- **ì†ì‹¤ í•¨ìˆ˜:** CrossEntropy (label smoothing=0.1)  
- **ê°€ì¤‘ì¹˜:** Î±=0.4 (Urgency), Î²=0.6 (Sentiment)  
- **Optimizer:** AdamW + Cosine LR + Warmup  
- **Precision:** `torch.amp.autocast(bf16/fp16)`  
- **Early Stopping:** patience=3  
- **í‰ê°€ ì§€í‘œ:** Weighted F1 (per-class F1, report í¬í•¨)  

---

## ğŸ“Š ê²°ê³¼

| Task | Weighted F1 |
|------|--------------|
| **Urgency** | **0.5817** |
| **Sentiment** | **0.6728** |

---

## ğŸ”— ì£¼ìš” ë…¸íŠ¸ë¶ ë§í¬

| ë‹¨ê³„ | Google Colab / Drive ë§í¬ |
|------|----------------------------|
| ğŸ“˜ EDA | [Colab Link](https://colab.research.google.com/drive/1YKSupCTp0c6rzeMOqQxhX2DyhmmfPysA?usp=sharing) |
| ğŸ§¹ ë°ì´í„° ì „ì²˜ë¦¬ | [Colab Link](https://colab.research.google.com/drive/19vZ8cUREOpNvoCK_GnGDUbpgB9H0NvZQ) |
| ğŸ§  ëª¨ë¸ í•™ìŠµ | [Colab Link](https://colab.research.google.com/drive/1XZRGRb7w8_OaWlzltY8NaJEnnXmXwK_f?usp=sharing) |
| ğŸ§© ì¸í¼ëŸ°ìŠ¤ | [Colab Link](https://colab.research.google.com/drive/1b4PzgilX-f_u2Dj9zLJ2lqvbg_Yr5kFM) |

---